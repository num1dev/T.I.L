# 2023.03.28

## **프로세스 & 쓰레드**

- 프로세스 : 실행중인 프로그램, 자원과 쓰레드로 구성
- 쓰레드 : 프로세스 내에서 실제 작업을 수행
    - 모든 프로세스는 하나 이상의 쓰레드를 가지고 있다.
    - 싱글 쓰레드 프로세스 = 자원 + 쓰레드
    - 멀티 쓰레드 프로세스 = 자원 + 쓰레드 + 쓰레드 +… + 쓰레드
    
    <br><br>
    

---

## **cpu 와 코어**

### CPU

- Central Processing Unit의 약자
- 컴퓨터 시스템에서 중앙처리장치를 의미
- . CPU는 컴퓨터의 모든 계산과 제어 작업을 수행하는 핵심적인 부품
- CPU는 주로 마이크로프로세서라는 칩 형태로 제공.

<br>

### 코어(Core)

- CPU 내부의 하드웨어 유닛
- 하나의 물리적인 프로세서 안에 여러 개의 코어가 포함
- 각각의 코어는 독립적으로 작동하며, 여러 작업을 병렬로 처리.
    - 예를 들어, 4코어 CPU에서는 네 개의 코어가 동시에 여러 작업을 처리
- 멀티코어 CPU는 여러 프로세스 및 쓰레드를 동시에 처리할 수 있기 때문에, 높은 성능과 효율성을 제공.

<br><b>

---

## **타임슬라이싱 && 라운드 로빈**

<br>

### 1. 타임 슬라이싱(Time slicing)

- 컴퓨터에서 멀티태스킹을 수행할 때 사용되는 기술 중 하나
- 여러 개의 프로세스가 동시에 실행되는 경우, 각 프로세스는 CPU의 시간을 일정한 시간 단위로 분할하여 사용
    - 이 시간 단위를 타임 슬라이스(time slice) 또는 타임 퀀텀(time quantum)이라고 지칭.
- 타임 슬라이싱은 운영체제에서 CPU 시간을 프로세스 간에 공정하게 분배하여, 모든 프로세스가 공평하게 CPU 자원을 사용할 수 있도록 함.
- 프로세스가 지나치게 오랫동안 CPU 자원을 점유하여 다른 프로세스의 실행을 방해하는 것을 방지

<br>

### 라운드 로빙(Round-robin)

- 타임 슬라이싱 기술 중 하나
- 운영체제에서 사용하는 스케줄링 알고리즘 중 하나
- CPU 시간을 일정한 시간 단위로 분할하여 사용하는 것이 아니라, 각 프로세스에게 동일한 시간 할당량을 지정하고, 지정된 시간이 지나면 다음 프로세스에게 CPU를 넘기는 방식.
- CPU 시간을 일정한 크기의 타임 슬라이스로 분할하는 것이 아니라, 프로세스의 실행시간이 짧은 경우에도 자주 CPU를 전환하여 모든 프로세스가 공평하게 실행될 수 있도록 함
- 라운드 로빙은 타임 슬라이싱과 유사한 목적을 가지고 있지만, 더욱 공평하게 CPU 자원을 분배할 수 있다는 장점.

<br><br>

---

## **프로세스 스케줄링, 병렬체제(우선순위 높이기)**

<br>

### 1. 우선순위를 높이기

- 운영체제에서 프로세스 스케줄링을 수행할 때 사용되는 방법 중 하나
- 프로세스에는 우선순위(Priority)가 할당되어 있으며, 우선순위가 높은 프로세스는 우선적으로 CPU 자원을 할당받음.
- 이를 통해 우선적으로 처리해야 할 작업이나 시간 제한이 있는 작업 등을 빠르게 처리.

<br>

### 2. 프로세스 스케줄링(Process scheduling)

- 운영체제에서 CPU 자원을 프로세스에게 할당하는 방법을 결정하는 작업
- 여러 가지 알고리즘을 사용하여 수행
    - 라운드 로빙, FCFS(First Come First Served), SJF(Shortest Job First), 우선순위 스케줄링
- 알고리즘을 사용하여 모든 프로세스가 공정하게 CPU 자원을 사용할 수 있도록 함.

<br><br>

---

## **컨텍스트 스위칭**

<br>

### 1.정의

- 운영체제에서 여러 개의 프로세스를 동시에 실행하기 위해 CPU가 현재 실행 중인 프로세스의 상태(context)를 저장하고, 다음 실행할 프로세스의 상태를 불러와 실행하는 과정
- 이 과정은 CPU가 한 번에 하나의 프로세스만 실행할 수 있는 것을 극복하기 위해 필요.
- 운영체제에서 멀티태스킹을 지원하기 위해 필수적인 과정
- 시분할 시스템에서 타임 슬라이스(time slice) 단위로 각 프로세스를 실행하는 것과 관련

<br>

### 2. 발생현상

- 컨텍스트 스위칭이 일어나면, 현재 실행 중인 프로세스의 상태인 레지스터, 프로세스 상태, 메모리 맵 등의 정보가 메모리에 저장되고, 이전에 일시 중단된 프로세스의 정보가 불러와져서 다시 실행됨. 이 과정에서는 CPU와 메모리에 대한 오버헤드가 발생.
- 타임 슬라이스가 지나면, 현재 실행 중인 프로세스의 상태를 저장하고 다음 실행할 프로세스로 전환하는 컨텍스트 스위칭이 발생
- 컨텍스트 스위칭이 자주 발생하면, CPU와 메모리에 대한 오버헤드가 높아질 수 있으므로, 컨텍스트 스위칭 비용을 최소화하는 것이 중요.

<br><br>

---

## **cgi의 멀티프로세스와 서블릿의 멀티쓰레드**

<br>

### 1. CGI (Common Gateway Interface)

- 웹 서버와 외부 프로그램 사이의 통신을 담당하는 표준 인터페이스
- CGI는 요청이 들어올 때마다 새로운 프로세스를 생성하여 요청을 처리
- 이러한 방식은 간단하지만, 많은 요청이 동시에 들어올 경우 서버의 성능을 저하시킴.

<br>

### 2. 서블릿(Servlet)

- Java 언어를 이용하여 작성된 웹 어플리케이션
- 서블릿은 웹 서버 내에서 실행되며, 각 요청마다 새로운 쓰레드를 생성하여 요청을 처리
- .이 방식은 멀티쓰레드 방식이기 때문에 여러 요청을 동시에 처리할 수 있으며, 이로 인해 성능이 향상.
- JVM(Java Virtual Machine) 위에서 실행되기 때문에 플랫폼 독립성을 보장.

<br>

### 3.결론

- CGI는 간단하지만 성능이 낮고, 서블릿은 멀티쓰레드 방식으로 성능이 우수하며, 플랫폼 독립성을 보장

<br><br>

---

## **램상주 프로그래밍**

<br>

- 주로 임베디드 시스템에서 사용되는 프로그래밍 방식 중 하나.
    - 임베디드 시스템에서는 자원이 제한적이기 때문에 램상주 프로그래밍이 필수적
    - . 램상주 프로그래밍을 사용하면 시스템의 전력 소모를 줄일 수 있으며, 전력 소모량이 적은 임베디드 시스템에서는 배터리 수명을 연장하는 효과.
- 이 방식은 프로그램을 실행하기 위해 전체 코드를 메모리에 로드하는 대신, 프로그램의 일부 또는 실행에 필요한 데이터만 메모리에 로드하는 방식.
    - 일반적인 프로그래밍 방식에서는 프로그램 전체를 메모리에 로드하므로, 시스템 자원의 낭비가 발생
- 램상주 프로그래밍에서는 필요한 부분만 메모리에 로드하므로, 시스템 자원의 효율적인 사용이 가능
- 프로그램 구조가 복잡해지고 디버깅이 어려워지는 단점
- 실행 시에 필요한 데이터가 메모리에 없는 경우 추가적인 시간이 필요해지므로, 실행 속도가 느려질 수 있다

<br><br>

---

## **멀티쓰레드 개발 우선순위**

### 1. 쓰레드의 개수 결정

- 멀티쓰레드 개발을 위해서는 몇 개의 쓰레드가 필요한지 결정. 이를 위해서는 프로그램이 동시에 처리할 작업의 종류와 수, 그리고 시스템 자원의 제한 등을 고려해야.

### 2. 동기화 방법 결정

- 멀티쓰레드 환경에서는 여러 쓰레드가 동시에 접근할 수 있는 공유 데이터가 존재.이러한 공유 데이터의 동기화를 위해서는 어떤 방식으로 처리할 것인지 결정해야. 예를 들어, 락을 이용한 동기화, 메시지 큐를 이용한 동기화 등.

### 3. 예외 처리 방법 결정

- 멀티쓰레드 환경에서는 여러 쓰레드가 동시에 실행되므로, 예외가 발생할 가능성이 높다. 따라서, 예외 처리 방법을 결정해야. 예를 들어, 각 쓰레드별로 예외 처리를 담당하는 방식이나, 모든 쓰레드에서 공통적으로 예외를 처리하는 방식 등.

### 4. 디버깅 방법 결정

- 멀티쓰레드 환경에서는 각 쓰레드가 서로 다른 작업을 수행하기 때문에 디버깅이 어려울 수 있다. 따라서, 적절한 디버깅 방법을 결정해야. 예를 들어, 디버깅 도구를 이용한 방법이나, 로그를 이용한 방법 등.